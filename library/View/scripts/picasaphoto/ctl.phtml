<?php

$this->control(array(
	'where' => array('`parentid` = ?' => $this->control()->config->param->cid),
	'field' => array(
		'title' => array(
			'active' => false,
			'title' => 'Имя файла',
			'required' => true,
			'order' => 1
		),
		'description' => array(
			'active' => false,
			'title' => 'Описание',
			'order' => 2
		),
		'width' => array(
			'active' => false,
			'title' => 'Ширина',
			'align' => 'center',
			'width' => 20,
			'order' => 3
		),
		'height' => array(
			'active' => false,
			'title' => 'Высота',
			'align' => 'center',
			'width' => 20,
			'order' => 4
		),
		'size' => array(
			'active' => false,
			'title' => 'Размер',
			'align' => 'center',
			'width' => 20,
			'formatter' => 'function',
			'formatoptions' => 'return Math.floor((Number(value) / 1024)) + "Кб";',
			'order' => 5
		),
		'date' => array(
			'type' => 'date',
			'title' => 'Дата',
			'formatter' => 'date',
			'align' => 'center',
			'param' => array(
				'value' => date('d.m.Y')
			),
			'width' => 20,
			'order' => 6
		),
		'image_url' => array(
			'title' => 'Картинка',
			'type' => 'uploadify',
			'validators' => array(
				'File_IsImage'
			),
			'order' => 7,
			'required' => true
		),
		'version' => array(
			'active' => false
		),
		'checksum' => array(
			'active' => false
		)
	),
	'action_config' => array(
		'ctlshow' => array(
			'field' => array(
				'title' => array(
					'active' => true
				),
				'width' => array(
					'active' => true
				),
				'height' => array(
					'active' => true
				),
				'size' => array(
					'active' => true
				),
				'image_url' => array(
					'active' => false
				),
				'description' => array(
					'active' => false
				)
			)
		)
	)
));