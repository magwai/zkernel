<?php
	
$this->control = array(
			'static_field' => true,
			'field' => array(
				'title' => array(
					'title' => 'Название',
					'required' => true,
					'order' => 1
				),
				'stitle' => array(
					'active' => false,
					'title' => 'Псевдоним',
					'description' => 'Латиница, цифры, -, _',
					'unique' => true,
					'required' => true,
					'validators' => array(array(
						'validator' => 'Regex',
						'options' => array('/^[a-z0-9\_\-]*$/i')
									)),
					'order' => 2
				),
				'date' => array(
					'active' => false,
					'title' => 'Дата',
					'type' => 'date',
					//'required' => true,
					'sortable' => true,
					'formatter' => 'date',
					'param' => array(
						'value' => ''
					),
					'width' => '20%',
					'order' => 3
				),
				'price' => array(
					'active' => false,
					'title' => 'Цена',
					'validators' => array(
						'Int',
						array(
							'validator' => 'GreaterThan',
							'options' => array(-1)
						)
						),
					'param' => array('value' => '0'),
					'formatter' => 'currency',
					'align' => 'right',
					'width' => '40%',
					'order' => 4
				),
				'pic' => array(
		 			'title' => 'Изображение',
					'required' => true,
			 		'type' => 'uploadify',
		 			'validators' => array('File_IsImage'),
		 			'order' => 5
				),
				'message' => array(
					'title' => 'Описание',
					'type' => 'mce',
					'order' => 6
				),
				'active' => array(
					'title' => 'Отображать',
					'type' => 'select',
					'param' => array('multioptions' => array('1' => 'Да','0' => 'Нет')),
					'formatter' => 'function',
					'formatoptions' => 'return Number(data.active) ? "Да" : "Нет";',
					'align' => 'center',
					'width' => '40%',
					'order' => 7
				),
				'show_index' => array(
					'active' => false,
					'title' => 'На главной',
					'type' => 'select',
					'param' => array(
						'multioptions' => array(
							'1' => 'Да',
							'0' => 'Нет'
							),
						'value' => '0'
						),
					'formatter' => 'function',
					'formatoptions' => 'return Number(data.show_index) ? "Да" : "Нет";',
					'align' => 'center',
					'width' => '40%',
					'order' => 8
				)
			),
			'action_config' => array(
				'ctlshow' => array(
					'button_top' => array('add', 'edit', 'delete', array(
						'title' => 'В рубрику',
						'action' => 'ctlplace'
						)),
					'field' => array(
							'message' => array('active' => false),
							'date' => array('active' => false),
							'pic' => array('active' => false) 
						)
				),
				'ctledit' => array(
					'field' => array(
						'stitle' => array('active' => true)
							)
						)
				)
);